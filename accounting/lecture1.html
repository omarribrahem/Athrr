<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="description" content="منصة أثر التعليمية - تجربة تعليمية تفاعلية متطورة لكلية التجارة" />
  <meta name="keywords" content="اقتصاد، محاسبة، إدارة، تجارة، business, economics, accounting, finance" />
  <meta name="theme-color" content="#16a34a" />
  
  <title>منصة أثر التعليمية</title>
  
  <!-- ==================== PRECONNECT ==================== -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://cdn.jsdelivr.net">
  <link rel="preconnect" href="https://unpkg.com">
  <link rel="preconnect" href="https://cdnjs.cloudflare.com">
  
  <!-- ==================== FONTS ==================== -->
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800&family=IBM+Plex+Sans+Arabic:wght@400;500;600;700&family=Inter:wght@400;500;600;700;800&family=Roboto+Mono:wght@400;500;600&display=swap" rel="stylesheet">
  
  <!-- ==================== ICONS ==================== -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <script src="https://code.iconify.design/3/3.1.1/iconify.min.js"></script>
  
  <!-- ==================== ANIMATION ==================== -->
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  
  <!-- ==================== CONFETTI ==================== -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
  
  <!-- ==================== TOUCH GESTURES ==================== -->
  <script src="https://cdn.jsdelivr.net/npm/hammerjs@2.0.8/hammer.min.js"></script>
  
  <!-- ==================== UTILITIES ==================== -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.30.1/moment-with-locales.min.js"></script>
  
  <!-- ==================== MATH RENDERING ==================== -->
  <script>
    window.MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$', '$$'], ['\\[', '\\]']],
        processEscapes: true,
        processEnvironments: true
      },
      svg: { fontCache: 'global', scale: 1.1 },
      options: {
        skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      },
      startup: {
        pageReady: () => {
          console.log('✅ MathJax is ready!');
          return MathJax.startup.defaultPageReady();
        }
      }
    };
  </script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js" async></script>
  
  <!-- ==================== CODE HIGHLIGHTING ==================== -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
  
  <!-- ==================== CUSTOM STYLES ==================== -->
  <link rel="stylesheet" href="../css/style.css">
  
  <!-- ==================== INITIALIZATION ==================== -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // AOS Animation
      AOS.init({
        duration: 800,
        easing: 'ease-in-out',
        once: false,
        mirror: true
      });
      
      // Moment.js Arabic
      moment.locale('ar');
      
      console.log('✅ All libraries initialized!');
    });
  </script>
</head>

<body>
  
  <!-- ==================== BACKGROUND ==================== -->
  <div class="background-waves">
    <div class="wave-layer"></div>
    <div class="wave-layer"></div>
    <div class="wave-layer"></div>
  </div>

  <!-- ==================== TRANSLATION BUTTON ==================== -->
  <button class="translation-button glass" id="translationButton" aria-label="تبديل اللغة">
    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M2.25 12C2.25 17.3848 6.61522 21.75 12 21.75C17.3848 21.75 21.75 17.3848 21.75 12C21.75 6.61522 17.3848 2.25 12 2.25C9.36657 2.25 6.94277 3.22321 5.16629 4.83371M12.75 2.25V7.5M12.75 7.5H18M12.75 7.5L5.16629 4.83371M11.25 21.75V16.5M11.25 16.5H6M11.25 16.5L18.8337 19.1663M5.16629 4.83371C3.22321 6.94277 2.25 9.36657 2.25 12M2.25 12C2.25 14.6334 3.22321 17.0572 4.83371 18.8337M18.8337 19.1663C20.7768 17.0572 21.75 14.6334 21.75 12M18.8337 4.83371C17.0572 3.22321 14.6334 2.25 12 2.25" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    <span class="translation-text">English</span>
  </button>

  <!-- ==================== AI CHAT BUTTON ==================== -->
  <button class="ai-fab-button glass" id="aiChatButton" aria-label="مساعد أثر الذكي">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="color: #f59e0b;">
      <path d="M12 8V4H8"></path>
      <rect x="4" y="12" width="16" height="8" rx="2"></rect>
      <path d="M2 14h2"></path>
      <path d="M20 14h2"></path>
      <path d="M15 13v-2a3 3 0 0 0-3-3H6a3 3 0 0 0-3 3v2"></path>
    </svg>
    <span class="ai-fab-text" id="aiFabText">أثر AI</span>
  </button>

  <!-- ==================== SIMPLE TIMER WIDGET ==================== -->
  <div class="timer-widget glass" id="timerWidget">
    <!-- Reading Mode (Default) -->
    <div class="timer-reading-mode" id="readingMode">
      <span class="iconify timer-icon" data-icon="fluent:clock-24-filled"></span>
      <span class="timer-value" id="timerValue">0</span>
      <span class="timer-unit">د</span>
    </div>
    
    <!-- Pomodoro Mode (Hidden by default) -->
    <div class="timer-pomodoro-mode" id="pomodoroMode" style="display:none;">
      <span class="pomodoro-time" id="pomodoroTime">25:00</span>
      <div class="pomodoro-controls">
        <button class="pomodoro-btn" id="startPomodoroBtn">
          <i class="fas fa-play"></i>
        </button>
        <button class="pomodoro-btn" id="pausePomodoroBtn" style="display:none;">
          <i class="fas fa-pause"></i>
        </button>
        <button class="pomodoro-btn" id="resetPomodoroBtn">
          <i class="fas fa-rotate-right"></i>
        </button>
      </div>
    </div>
    
    <!-- Hover Menu -->
    <div class="timer-menu" id="timerMenu">
      <button class="timer-menu-btn glass" id="switchToPomodoroBtn">
        <span class="iconify" data-icon="fluent:timer-24-filled"></span>
        <span>بومودورو</span>
      </button>
      <button class="timer-menu-btn glass" id="switchToReadingBtn" style="display:none;">
        <span class="iconify" data-icon="fluent:clock-24-filled"></span>
        <span>وقت القراءة</span>
      </button>
    </div>
  </div>

  <!-- Toast Notification -->
  <div class="toast-notification" id="toastNotification"></div>

  <!-- ==================== AI CHAT MODAL ==================== -->
  <div class="ai-chat-modal" id="aiChatModal">
    <div class="ai-chat-container glass">
      <div class="ai-chat-header">
        <h3 id="ai-chat-title">اسأل أثر AI</h3>
        <button class="ai-chat-close-btn" id="aiChatCloseBtn" aria-label="إغلاق">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>
      </div>
      <div class="ai-chat-messages" id="aiChatMessages">
        <!-- Messages will be added here -->
      </div>
      <div class="ai-chat-input-area">
        <input type="text" id="ai-chat-input" placeholder="اكتب سؤالك هنا..." />
        <button id="ai-chat-send-btn">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="22" y1="2" x2="11" y2="13"></line>
            <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
          </svg>
        </button>
      </div>
    </div>
  </div>

  <!-- ==================== MAIN CONTENT ==================== -->
  <main class="main-content" id="mainContent">

    <!-- ==================== VIDEO PLAYER SECTION ==================== -->
    <section class="video-section">
      <div class="video-card-player glass" data-aos="fade-down">
        <div class="video-info">
          <h2>🎬 فيديو الشرح</h2>
          <p id="playerInfo">مشغل فيديو ذكي - يكتشف جهازك تلقائياً</p>
          <span class="device-badge glass" id="deviceBadge">جاري التحميل...</span>
        </div>

        <div class="video-player-wrapper">
          <div class="video-player" id="videoPlayer">
            <video id="video" playsinline preload="auto"></video>

            <div class="loading-spinner" id="loadingSpinner"></div>

            <!-- Simple Controls -->
            <div class="simple-controls">
              <div class="simple-progress" id="simpleProgress">
                <div class="simple-progress-filled" id="simpleProgressFilled"></div>
              </div>
              <div class="simple-controls-row">
                <button class="simple-btn glass" id="simplePlayBtn">
                  <i class="fas fa-play"></i>
                </button>
                <span class="simple-time">
                  <span id="simpleCurrentTime">0:00</span> / <span id="simpleDuration">0:00</span>
                </span>
                <button class="simple-btn glass" id="simpleFullscreenBtn">
                  <i class="fas fa-expand"></i>
                </button>
              </div>
            </div>

            <!-- iOS Controls -->
            <div class="ios-controls">
              <div class="video-bars" id="videoBars">
                <div class="top-bar-bg glass"></div>
                <div class="bottom-bar-bg glass"></div>
              </div>

              <div class="tap-indicator left" id="tapLeft">
                <i class="fas fa-backward"></i>
              </div>
              <div class="tap-indicator right" id="tapRight">
                <i class="fas fa-forward"></i>
              </div>

              <div class="top-controls">
                <div class="top-left-group">
                  <button class="control-bubble glass-bubble" id="closeBtn">
                    <i class="fas fa-times"></i>
                  </button>
                </div>
                
                <div class="volume-control">
                  <div class="volume-slider-container glass">
                    <input type="range" id="volumeSlider" class="volume-slider" min="0" max="1" step="0.01" value="1" />
                  </div>
                  <button class="control-bubble glass-bubble" id="volumeBtn">
                    <i class="fas fa-volume-up"></i>
                  </button>
                </div>
              </div>

              <div class="center-play-controls">
                <button class="skip-bubble glass-bubble" id="skipBack">
                  <i class="fas fa-rotate-left"></i>
                  <span class="skip-number">10</span>
                </button>

                <button class="play-bubble glass-bubble" id="playBtn">
                  <i class="fas fa-play"></i>
                </button>

                <button class="skip-bubble glass-bubble" id="skipForward">
                  <i class="fas fa-rotate-right"></i>
                  <span class="skip-number">10</span>
                </button>
              </div>

              <div class="bottom-timeline">
                <div class="progress-wrapper" id="progressWrapper">
                  <div class="progress-track">
                    <div class="progress-buffered" id="progressBuffered"></div>
                    <div class="progress-filled" id="progressFilled"></div>
                  </div>
                </div>

                <div class="time-row">
                  <span class="time-text" id="currentTime">0:00</span>
                  <span class="time-text" id="remainingTime">-0:00</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ==================== CONTENT SECTIONS ==================== -->
    
    
    <!-- ==================== FOOTER ==================== -->
    <div class="footer-info glass" data-aos="fade-up">
      <div class="footer-brand">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M22 10v6M2 10l10-5 10 5-10 5z"></path>
          <path d="M6 12v5c3 3 9 3 12 0v-5"></path>
        </svg>
        منصة أثر التعليمية
      </div>
      <div class="footer-divider"></div>
      <p class="footer-disclaimer">
        جميع الحقوق محفوظة © 2025 | تجربة تعليمية تفاعلية متطورة
      </p>
    </div>

  </main>

  <!-- ==================== CUSTOM SCRIPTS ==================== -->
  <script src="../js/script.js"></script>
  
</body>
</html>
