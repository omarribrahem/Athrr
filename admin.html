<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#16a34a">
  <title>ููุญุฉ ุงูุชุญูู - ููุตุฉ ุฃุซุฑ</title>
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/platform.css">
  <link rel="stylesheet" href="css/admin.css">
</head>
<body>
  <div class="background-waves">
    <div class="wave-layer"></div>
    <div class="wave-layer"></div>
    <div class="wave-layer"></div>
  </div>
  
  <!-- Header Glass -->
  <header class="admin-header">
    <div class="header-content">
      <div style="display: flex; align-items: center; gap: 16px;">
        <button class="back-button-admin" onclick="window.location.href='library.html'" title="ุงูุนูุฏุฉ ููููุชุจุฉ">
          <i class="fas fa-arrow-right"></i>
        </button>
        <div class="admin-title">
          <i class="fas fa-user-shield"></i>
          <span>ููุญุฉ ุงูุชุญูู - ููุตุฉ ุฃุซุฑ</span>
        </div>
      </div>
      <div class="header-actions">
        <input type="text" class="search-box" placeholder="ุงุจุญุซ ุนู ูุงุฏุฉ ุฃู ูุญุงุถุฑุฉ..." id="globalSearchAdmin">
        <button class="logout-btn" onclick="logout()">
          <i class="fas fa-sign-out-alt"></i> ุฎุฑูุฌ
        </button>
      </div>
    </div>
  </header>

  <!-- Tabs Glass Navigation -->
  <nav class="admin-tabs">
    <div class="tabs-container">
      <button class="tab-btn active" data-tab="tutorial">
        <i class="fas fa-graduation-cap"></i> ุงูุฏููู ุงูุชุนูููู
      </button>
      <button class="tab-btn" data-tab="subjects">
        <i class="fas fa-book"></i> ุงูููุงุฏ
      </button>
      <button class="tab-btn" data-tab="lectures">
        <i class="fas fa-video"></i> ุงููุญุงุถุฑุงุช
      </button>
      <button class="tab-btn" data-tab="codes">
        <i class="fas fa-key"></i> ุงูุฃููุงุฏ
      </button>
      <button class="tab-btn" data-tab="users">
        <i class="fas fa-users"></i> ุงููุณุชุฎุฏููู
      </button>
    </div>
  </nav>

  <!-- Main Content -->
  <main class="admin-main">
    
    <!-- ============================================ -->
    <!-- TUTORIAL PANEL (NEW) -->
    <!-- ============================================ -->
    <div id="tutorial" class="admin-panel active">
      <div class="admin-card tutorial-card">
        <h2><i class="fas fa-graduation-cap"></i> ูุฑุญุจุงู ุจู ูู ููุญุฉ ุงูุชุญูู</h2>
        <p class="tutorial-intro">ูุฐุง ุงูุฏููู ุงูุดุงูู ุณูุณุงุนุฏู ุนูู ุฅุฏุงุฑุฉ ุงูููุตุฉ ุจูู ุณูููุฉ ุฏูู ุงูุญุงุฌุฉ ููุชุงุจุฉ ููุฏ ุฃู ุงูุชุนุฏูู ูู Firebase ูุจุงุดุฑุฉ.</p>
        
        <!-- Tutorial Sections -->
        <div class="tutorial-section">
          <h3><i class="fas fa-book"></i> 1. ุฅุถุงูุฉ ูุงุฏุฉ ุฌุฏูุฏุฉ</h3>
          <div class="tutorial-steps">
            <div class="step">
              <span class="step-number">1</span>
              <div class="step-content">
                <h4>ุงูุชูู ุฅูู ุชุจููุจ "ุงูููุงุฏ"</h4>
                <p>ุงููุฃ ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ: ูุนุฑู ุงููุงุฏุฉ (ูุฑูุฏ ูุซู: economics-101)ุ ุงูุงุณู ุจุงูุนุฑุจู ูุงูุฅูุฌููุฒูุ ุงุณู ุงููุญุงุถุฑุ ูุงููุตู.</p>
              </div>
            </div>
            <div class="step">
              <span class="step-number">2</span>
              <div class="step-content">
                <h4>ุงุฎุชุฑ ุงูุฃููููุฉ ูุงูููู</h4>
                <p>ุงุฎุชุฑ ุฃููููุฉ ูู +90 ุฃููููุฉ ุชุนููููุฉุ ุงุฎุชุฑ ููู ุงูุฎูููุฉ ูููู ุงูุฃููููุฉุ ูุดุงูุฏ ุงููุนุงููุฉ ุงููุจุงุดุฑุฉ.</p>
              </div>
            </div>
            <div class="step">
              <span class="step-number">3</span>
              <div class="step-content">
                <h4>ุงุญูุธ ุงููุงุฏุฉ</h4>
                <p>ุงุถุบุท "ุญูุธ ุงููุงุฏุฉ" - ุณุชุธูุฑ ูู ูุงุฆูุฉ ุงูููุงุฏ ููู ุงูููุชุจุฉ ูุจุงุดุฑุฉ ููุทูุงุจ.</p>
              </div>
            </div>
          </div>
        </div>

        <div class="tutorial-section">
          <h3><i class="fas fa-video"></i> 2. ุฅุถุงูุฉ ูุญุงุถุฑุฉ</h3>
          <div class="tutorial-steps">
            <div class="step">
              <span class="step-number">1</span>
              <div class="step-content">
                <h4>ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ</h4>
                <p>ุงูุชูู ูุชุจููุจ "ุงููุญุงุถุฑุงุช"ุ ุฃุฏุฎู ูุนุฑู ูุฑูุฏ (ูุซู: lec-eco-01)ุ ุงุฎุชุฑ ุงููุงุฏุฉุ ุงูุนููุงูุ ูุงูุชุฑุชูุจ.</p>
              </div>
            </div>
            <div class="step">
              <span class="step-number">2</span>
              <div class="step-content">
                <h4>ููุน ุงูุฑุงุจุท (ููู ุฌุฏุงู!)</h4>
                <p><strong>ุฎูุงุฑุงู ูุชุงุญุงู:</strong></p>
                <ul class="tutorial-list">
                  <li><strong>GitHub Path:</strong> ูุซู <code>lectures/economics/lec-01.html</code> (ูุณุงุฑ ูุณุจู ูู ุงููุฌูุฏ ุงูุฑุฆูุณู)</li>
                  <li><strong>Cloudflare URL:</strong> ูุซู <code>https://athr-platform.pages.dev/lectures/lec-01.html</code> (ุฑุงุจุท ูุงูู)</li>
                </ul>
                <p class="warning-box"><i class="fas fa-exclamation-triangle"></i> ุชุฃูุฏ ูู ุตุญุฉ ุงููุณุงุฑ - ุงูุฑุงุจุท ุงูุฎุงุทุฆ ูู ูุนูู!</p>
              </div>
            </div>
            <div class="step">
              <span class="step-number">3</span>
              <div class="step-content">
                <h4>ุงูุญูุงูุฉ ูุงูููุฏ</h4>
                <p><strong>ูุญุงุถุฑุฉ ูุฌุงููุฉ:</strong> ุงุฎุชุฑ "ูุฌุงููุฉ" - ูุชุงุญุฉ ูุฌููุน ุงูุทูุงุจ.</p>
                <p><strong>ูุญุงุถุฑุฉ ูุญููุฉ:</strong> ุงุฎุชุฑ "ูุญููุฉ ุจููุฏ":</p>
                <ul class="tutorial-list">
                  <li><strong>ุฅูุดุงุก ููุฏ ุฌุฏูุฏ:</strong> ุญุฏุฏ ุนุฏุฏ ุงูุงุณุชุฎุฏุงูุงุช ูุชุงุฑูุฎ ุงูุงูุชูุงุก (ุงุฎุชูุงุฑู)</li>
                  <li><strong>ุฑุจุท ููุฏ ููุฌูุฏ:</strong> ุฃุฏุฎู ููุฏ ููุฌูุฏ ูุณุจูุงู (ูุซู: ATHR-ABC12345)</li>
                </ul>
              </div>
            </div>
            <div class="step">
              <span class="step-number">4</span>
              <div class="step-content">
                <h4>ุงูุชุฎุตูุต ุงูููุงุฆู</h4>
                <p>ุงุฎุชุฑ ุฃููููุฉ ูููุญุงุถุฑุฉุ ููู ูููุฒุ ูุงูุชุจ ูุตู ูุฎุชุตุฑ. ุงุญูุธ ุงููุญุงุถุฑุฉ.</p>
              </div>
            </div>
          </div>
        </div>

        <div class="tutorial-section">
          <h3><i class="fas fa-code"></i> 3. ุจููุฉ ููู ุงููุญุงุถุฑุฉ (HTML)</h3>
          <div class="code-tutorial">
            <p><strong>ููู ุชุนูู ุงููุญุงุถุฑุฉ ุจุดูู ุตุญูุญุ ูุฌุจ ุฃู ูุญุชูู ููู HTML ุนูู:</strong></p>
            <pre class="code-block"><code>&lt;!DOCTYPE html&gt;
&lt;html lang="ar" dir="rtl"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;ุนููุงู ุงููุญุงุถุฑุฉ&lt;/title&gt;
  &lt;!-- ุฑูุงุจุท CSS ุงูุฎุงุตุฉ ุจุงูููุตุฉ --&gt;
  &lt;link rel="stylesheet" href="../../css/style.css"&gt;
  &lt;link rel="stylesheet" href="../../css/platform.css"&gt;
  &lt;link rel="stylesheet" href="../../css/features.css"&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;!-- ูุญุชูู ุงููุญุงุถุฑุฉ ููุง --&gt;
  
  &lt;!-- ๐ฅ CRITICAL: Security Check --&gt;
  &lt;script type="module"&gt;
    import { checkLectureAccess } from '../../js/lecture-auth.js';
    
    // โ ุงุณุชุจุฏู 'LECTURE_ID' ุจูุนุฑู ุงููุญุงุถุฑุฉ ุงููุนูู
    checkLectureAccess('lec-eco-01', (user) =&gt; {
      // ุงููุญุงุถุฑุฉ ุชุนูู ููุง - ูููู ุชุญููู features.js
      import('../../js/features.js');
    });
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
            
            <div class="warning-box">
              <i class="fas fa-shield-alt"></i>
              <div>
                <strong>ููู ุฌุฏุงู:</strong>
                <p>ูุฌุจ ุงุณุชุฏุนุงุก <code>checkLectureAccess()</code> ูู ูู ูุญุงุถุฑุฉ ูุถูุงู ุงูุญูุงูุฉ. ุงูุทุงูุจ ุงูุฐู ูุง ูููู ุงููุญุงุถุฑุฉ ุณูุชู ููุนู ุชููุงุฆูุงู.</p>
              </div>
            </div>
          </div>
        </div>

        <div class="tutorial-section">
          <h3><i class="fas fa-folder-tree"></i> 4. ูููู ุงููุฌูุฏุงุช ุงูููุตู ุจู</h3>
          <pre class="code-block"><code>๐ฆ athr-platform/
โโโ ๐ lectures/
โ   โโโ ๐ economics/
โ   โ   โโโ lec-01.html
โ   โ   โโโ lec-02.html
โ   โ   โโโ ...
โ   โโโ ๐ statistics/
โ   โ   โโโ lec-01.html
โ   โ   โโโ ...
โ   โโโ ๐ mathematics/
โ       โโโ ...
โโโ ๐ css/
โโโ ๐ js/
โโโ index.html</code></pre>
          <p class="info-box"><i class="fas fa-lightbulb"></i> ูุธูู ุงููุญุงุถุฑุงุช ูู ูุฌูุฏุงุช ุญุณุจ ุงููุงุฏุฉ ูุณูููุฉ ุงูุฅุฏุงุฑุฉ.</p>
        </div>

        <div class="tutorial-section">
          <h3><i class="fas fa-key"></i> 5. ุฅุฏุงุฑุฉ ุงูุฃููุงุฏ</h3>
          <div class="tutorial-steps">
            <div class="step">
              <span class="step-number">1</span>
              <div class="step-content">
                <h4>ุงูุฃููุงุฏ ุงูุชููุงุฆูุฉ</h4>
                <p>ุนูุฏ ุฅูุดุงุก ูุญุงุถุฑุฉ ูุญููุฉุ ูุชู ุฅูุดุงุก ููุฏ ุชููุงุฆูุงู ุจุตูุบุฉ <code>ATHR-XXXXXXXX</code>.</p>
              </div>
            </div>
            <div class="step">
              <span class="step-number">2</span>
              <div class="step-content">
                <h4>ุชูุนูู/ุชุนุทูู ุงูุฃููุงุฏ</h4>
                <p>ูู ุชุจููุจ "ุงูุฃููุงุฏ"ุ ููููู ุชูุนูู ุฃู ุชุนุทูู ุฃู ููุฏุ ุนุฑุถ ุงูุงุณุชุฎุฏุงูุงุชุ ูุญุฐู ุงูุฃููุงุฏ ุงูููุชููุฉ.</p>
              </div>
            </div>
            <div class="step">
              <span class="step-number">3</span>
              <div class="step-content">
                <h4>Bundle Codes (ูุฌููุนุงุช)</h4>
                <p>ููููู ุฅูุดุงุก ููุฏ ูุงุญุฏ ูุชูุนูู ูุงุฏุฉ ูุงููุฉ ุฃู ูุฌููุนุฉ ููุงุฏ - ูููุฏ ููุจุงูุงุช ุงููุฏููุนุฉ.</p>
              </div>
            </div>
          </div>
        </div>

        <div class="tutorial-section">
          <h3><i class="fas fa-users"></i> 6. ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู</h3>
          <p>ููููู ูู ุชุจููุจ "ุงููุณุชุฎุฏููู":</p>
          <ul class="tutorial-list">
            <li>ุนุฑุถ ุฌููุน ุงููุณุชุฎุฏููู ุงููุณุฌููู</li>
            <li>ุฅุถุงูุฉ ูุญุงุถุฑุงุช ููุณุชุฎุฏู ูุนูู ูุฏููุงู</li>
            <li>ุฅุฒุงูุฉ ูุญุงุถุฑุงุช ูู ููุชุจุฉ ุงููุณุชุฎุฏู</li>
            <li>ุชุฑููุฉ ูุณุชุฎุฏู ุฅูู Admin</li>
            <li>ุญุฐู ุญุณุงุจุงุช ุงููุณุชุฎุฏููู</li>
          </ul>
        </div>

        <div class="tutorial-section">
          <h3><i class="fas fa-question-circle"></i> 7. ุฃุณุฆูุฉ ุดุงุฆุนุฉ</h3>
          <div class="faq-item">
            <h4>ุณ: ูู ูููููู ุชุนุฏูู ูุญุงุถุฑุฉ ุจุนุฏ ูุดุฑูุงุ</h4>
            <p>ูุนู! ุงุถุบุท "ุชุนุฏูู" ูู ูุงุฆูุฉ ุงููุญุงุถุฑุงุชุ ุนุฏูู ุงูุจูุงูุงุชุ ูุงุญูุธ ูุฌุฏุฏุงู. ุงูุชุนุฏููุงุช ููุฑูุฉ.</p>
          </div>
          <div class="faq-item">
            <h4>ุณ: ููู ุฃุญุฐู ูุญุงุถุฑุฉุ</h4>
            <p>ุงุถุบุท "ุญุฐู" ูู ูุงุฆูุฉ ุงููุญุงุถุฑุงุช. ุณูุชู ุญุฐููุง ูู Firebase ููู ููุชุจุงุช ุฌููุน ุงููุณุชุฎุฏููู ุชููุงุฆูุงู.</p>
          </div>
          <div class="faq-item">
            <h4>ุณ: ูุงุฐุง ูุญุฏุซ ูู ุฃุฏุฎูุช ุฑุงุจุท ุฎุงุทุฆุ</h4>
            <p>ุณุชุธูุฑ ุฑุณุงูุฉ "ุงููุญุงุถุฑุฉ ููุฏ ุงูุชุทููุฑ" ููุทุงูุจ. ุชุญูู ูู ุงููุณุงุฑ ูุนุฏููู ูู ูุณู ุงูุชุนุฏูู.</p>
          </div>
          <div class="faq-item">
            <h4>ุณ: ููู ุฃุนุฑู ุฅุฐุง ูุงู ุงูููุฏ ูุณุชุฎุฏูุ</h4>
            <p>ูู ุชุจููุจ "ุงูุฃููุงุฏ"ุ ุชุฌุฏ ุนุฏุฏ ุงูุงุณุชุฎุฏุงูุงุช ููู ููุฏ. ููููู ุชุชุจุน ูู ุงุณุชุฎุฏู ุงูููุฏ ูู ุจูุงูุงุช ุงููุณุชุฎุฏููู.</p>
          </div>
        </div>

        <div class="success-box">
          <i class="fas fa-check-circle"></i>
          <div>
            <strong>ูุตูุญุฉ ุฃุฎูุฑุฉ:</strong>
            <p>ุฌุฑูุจ ุฅุถุงูุฉ ูุงุฏุฉ ููุญุงุถุฑุฉ ุชุฌุฑูุจูุฉ ุฃููุงู ููุชุฃูุฏ ูู ููู ุงููุธุงู. ููููู ุญุฐููุง ูุงุญูุงู ุฏูู ูุดุงูู!</p>
          </div>
        </div>
      </div>
    </div>

    <!-- ============================================ -->
    <!-- SUBJECTS PANEL -->
    <!-- ============================================ -->
    <div id="subjects" class="admin-panel">
      <div class="admin-card">
        <h2><i class="fas fa-plus-circle"></i> ุฅุถุงูุฉ / ุชุนุฏูู ูุงุฏุฉ</h2>
        <form id="addSubjectForm">
          <div class="form-grid">
            <div class="form-group">
              <label class="form-label"><i class="fas fa-hashtag"></i> ูุนุฑู ุงููุงุฏุฉ</label>
              <input type="text" class="form-input" id="subjectId" placeholder="statistics-2025" required>
              <small class="form-hint">ูุฌุจ ุฃู ูููู ูุฑูุฏุงู (ุญุฑููุ ุฃุฑูุงูุ ูุดุฑุทุงุช ููุท)</small>
            </div>
            <div class="form-group">
              <label class="form-label"><i class="fas fa-font"></i> ุงูุงุณู (ุนุฑุจู)</label>
              <input type="text" class="form-input" id="subjectNameAr" placeholder="ุงูุฅุญุตุงุก" required>
            </div>
            <div class="form-group">
              <label class="form-label"><i class="fas fa-language"></i> ุงูุงุณู (ุฅูุฌููุฒู)</label>
              <input type="text" class="form-input" id="subjectNameEn" placeholder="Statistics" required>
            </div>
            <div class="form-group">
              <label class="form-label"><i class="fas fa-sort-numeric-down"></i> ุงูุชุฑุชูุจ</label>
              <input type="number" class="form-input" id="subjectOrder" value="1" min="1">
            </div>
            
            <div class="form-group full-width">
              <label class="form-label"><i class="fas fa-user-tie"></i> ุงููุญุงุถุฑ</label>
              <input type="text" class="form-input" id="lecturerName" placeholder="ุฏ. ุฃุญูุฏ ุนูู">
            </div>
            
            <div class="form-group full-width">
              <label class="form-label"><i class="fas fa-align-right"></i> ุงููุตู</label>
              <textarea class="form-textarea" id="subjectDescription" placeholder="ูุตู ุงููุงุฏุฉ..." rows="3"></textarea>
            </div>
            
            <div class="form-group full-width">
              <label class="form-label"><i class="fas fa-icons"></i> ุงูุฃููููุฉ (ุงุฎุชุฑ ูุงุญุฏุฉ)</label>
              <div class="search-icon-container">
                <input type="text" class="form-input" id="iconSearchInput" placeholder="ุงุจุญุซ ุนู ุฃููููุฉ... (ูุซู: ูุชุงุจุ ุญุงุณุจุ ุนููู)">
              </div>
              <div class="icon-picker-grid" id="iconPicker"></div>
              <input type="hidden" id="subjectIcon" value="fa-book" required>
            </div>
            
            <div class="form-group full-width">
              <label class="form-label"><i class="fas fa-palette"></i> ููู ุงูุฎูููุฉ</label>
              <div class="color-grid" id="colorGrid"></div>
              <input type="hidden" id="subjectColor" value="#16a34a" required>
            </div>
            
            <div class="form-group full-width">
              <label class="form-label"><i class="fas fa-paint-brush"></i> ููู ุงูุฃููููุฉ</label>
              <div class="color-grid" id="iconColorGrid"></div>
              <input type="hidden" id="iconColor" value="#ffffff">
            </div>
            
            <div class="form-group full-width">
              <label class="form-label"><i class="fas fa-shield-alt"></i> ููุน ุงูุญูุงูุฉ</label>
              <select class="form-select" id="subjectProtection">
                <option value="free">ูุฌุงููุฉ (ูุชุงุญุฉ ููุฌููุน)</option>
                <option value="code">ูุญููุฉ ุจููุฏ (ุชุญุชุงุฌ ุชูุนูู)</option>
              </select>
              <small class="form-hint">ุฅุฐุง ุงุฎุชุฑุช "ูุญููุฉ"ุ ุณูุญุชุงุฌ ุงูุทูุงุจ ูููุฏ ูุฑุคูุฉ ูุญุงุถุฑุงุช ูุฐู ุงููุงุฏุฉ</small>
            </div>
            
            <div class="form-group full-width">
              <label class="form-label"><i class="fas fa-eye"></i> ุงููุนุงููุฉ</label>
              <div class="preview-section">
                <div class="subject-preview">
                  <div class="preview-icon-container" id="previewIconContainer">
                    <i class="fas fa-book" id="previewIcon"></i>
                  </div>
                  <div class="preview-name" id="previewNameAr">ุงุณู ุงููุงุฏุฉ</div>
                  <div class="preview-name-en" id="previewNameEn">Subject Name</div>
                </div>
              </div>
            </div>
            
            <div class="form-group full-width">
              <button type="submit" class="submit-btn" id="submitSubjectBtn">
                <i class="fas fa-check-circle"></i> ุญูุธ ุงููุงุฏุฉ
              </button>
            </div>
          </div>
        </form>
      </div>

      <div class="admin-card">
        <h2><i class="fas fa-list"></i> ุงูููุงุฏ ุงููุชุงุญุฉ</h2>
        <div class="subjects-grid" id="subjectsList"></div>
      </div>
    </div>

    <!-- ============================================ -->
    <!-- LECTURES PANEL -->
    <!-- ============================================ -->
    <div id="lectures" class="admin-panel">
      <div class="admin-card">
        <h2><i class="fas fa-plus-circle"></i> ุฅุถุงูุฉ / ุชุนุฏูู ูุญุงุถุฑุฉ</h2>
        <form id="addLectureForm">
          <div class="form-grid">
            <div class="form-group">
              <label class="form-label"><i class="fas fa-hashtag"></i> ูุนุฑู ุงููุญุงุถุฑุฉ</label>
              <input type="text" class="form-input" id="lectureId" placeholder="lec-stat-01" required>
              <small class="form-hint">ูุฑูุฏ (ุญุฑููุ ุฃุฑูุงูุ ุดุฑุทุงุช ููุท)</small>
            </div>
            <div class="form-group">
              <label class="form-label"><i class="fas fa-book"></i> ุงููุงุฏุฉ</label>
              <select class="form-select" id="lectureSubject" required>
                <option value="">ุงุฎุชุฑ ูุงุฏุฉ...</option>
              </select>
            </div>
            <div class="form-group">
              <label class="form-label"><i class="fas fa-heading"></i> ุงูุนููุงู</label>
              <input type="text" class="form-input" id="lectureTitle" placeholder="ุนููุงู ุงููุญุงุถุฑุฉ" required>
            </div>
            <div class="form-group">
              <label class="form-label"><i class="fas fa-sort-numeric-down"></i> ุงูุชุฑุชูุจ</label>
              <input type="number" class="form-input" id="lectureOrder" value="1" min="1">
            </div>
            
            <div class="form-group full-width">
              <label class="form-label"><i class="fas fa-align-right"></i> ุงููุตู</label>
              <textarea class="form-textarea" id="lectureDescription" placeholder="ูุตู ุงููุญุงุถุฑุฉ..." rows="2"></textarea>
            </div>
            
            <div class="form-group full-width">
              <label class="form-label"><i class="fas fa-icons"></i> ุงูุฃููููุฉ</label>
              <div class="search-icon-container">
                <input type="text" class="form-input" id="lectureIconSearchInput" placeholder="ุงุจุญุซ ุนู ุฃููููุฉ...">
              </div>
              <div class="icon-picker-grid-small" id="lectureIconPicker"></div>
              <input type="hidden" id="lectureIcon" value="fa-video" required>
            </div>
            
            <div class="form-group">
              <label class="form-label"><i class="fas fa-palette"></i> ุงูููู</label>
              <div class="color-grid-small" id="lectureColorGrid"></div>
              <input type="hidden" id="lectureColor" value="#3b82f6">
            </div>
            
            <div class="form-group full-width">
              <label class="form-label"><i class="fas fa-link"></i> ููุน ุงูุฑุงุจุท</label>
              <div style="display: flex; gap: 16px; margin-top: 8px;">
                <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                  <input type="radio" name="linkType" value="github" checked>
                  <span>GitHub Path (ูุณุงุฑ ูุณุจู)</span>
                </label>
                <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                  <input type="radio" name="linkType" value="cloudflare">
                  <span>Cloudflare URL (ุฑุงุจุท ูุงูู)</span>
                </label>
              </div>
            </div>
            
            <div class="form-group full-width" id="githubPathField">
              <label class="form-label"><i class="fas fa-folder"></i> ูุณุงุฑ ุงููุญุงุถุฑุฉ (GitHub Path)</label>
              <input type="text" class="form-input" id="lectureUrlGithub" placeholder="lectures/economics/lec-01.html">
              <small class="form-hint">ูุซุงู: lectures/statistics/lec-01.html</small>
            </div>
            
            <div class="form-group full-width" id="cloudflareUrlField" style="display: none;">
              <label class="form-label"><i class="fas fa-globe"></i> ุฑุงุจุท Cloudflare Pages</label>
              <input type="text" class="form-input" id="lectureUrlCloudflare" placeholder="https://athr-platform.pages.dev/lectures/lec-01.html">
              <small class="form-hint">ูุซุงู: https://your-domain.pages.dev/lectures/lec-01.html</small>
            </div>
            
            <div class="form-group full-width">
              <label class="form-label"><i class="fas fa-shield-alt"></i> ููุน ุงูุญูุงูุฉ</label>
              <select class="form-select" id="lectureProtection" required>
                <option value="free">ูุฌุงููุฉ</option>
                <option value="code">ูุญููุฉ ุจููุฏ</option>
              </select>
            </div>

            <!-- Protection Options -->
            <div id="protectionOptions" class="form-group full-width" style="display: none;">
              <div class="protection-card">
                <h4><i class="fas fa-key"></i> ุฅุนุฏุงุฏุงุช ุงูุญูุงูุฉ</h4>
                
                <div style="display: flex; gap: 16px; margin: 16px 0; flex-wrap: wrap;">
                  <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                    <input type="radio" name="codeMode" value="create" checked>
                    <span>ุฅูุดุงุก ููุฏ ุฌุฏูุฏ</span>
                  </label>
                  <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                    <input type="radio" name="codeMode" value="attach">
                    <span>ุฑุจุท ููุฏ ููุฌูุฏ</span>
                  </label>
                </div>

                <!-- Create New Code -->
                <div id="createCodeFields">
                  <div class="form-grid">
                    <div class="form-group">
                      <label class="form-label"><i class="fas fa-users"></i> ุนุฏุฏ ุงูุงุณุชุฎุฏุงูุงุช</label>
                      <input type="number" class="form-input" id="newCodeMaxUses" min="0" value="1" placeholder="0 = ุบูุฑ ูุญุฏูุฏ">
                    </div>
                    <div class="form-group">
                      <label class="form-label"><i class="fas fa-calendar-alt"></i> ุชุงุฑูุฎ ุงูุงูุชูุงุก</label>
                      <input type="date" class="form-input" id="newCodeExpiresAt">
                      <small class="form-hint">ุงุฎุชูุงุฑู - ุงุชุฑูู ูุงุฑุบุงู ุฅุฐุง ูู ุชุฑูุฏ ุงูุชูุงุก ุตูุงุญูุฉ</small>
                    </div>
                  </div>
                </div>

                <!-- Attach Existing Code -->
                <div id="attachCodeFields" style="display: none;">
                  <label class="form-label"><i class="fas fa-key"></i> ุงูููุฏ ุงูููุฌูุฏ</label>
                  <input type="text" class="form-input" id="existingCodeString" placeholder="ATHR-ABC12345" style="text-transform: uppercase; letter-spacing: 1px;">
                  <small class="form-hint">ุฃุฏุฎู ููุฏ ููุฌูุฏ ูุณุจูุงู ูู ุงููุธุงู</small>
                </div>

                <div class="form-group" style="margin-top: 16px;">
                  <label class="form-label"><i class="fas fa-sticky-note"></i> ููุงุญุธุงุช (ุงุฎุชูุงุฑู)</label>
                  <textarea class="form-textarea" id="codeNotes" placeholder="ููุงุญุธุงุช ุฏุงุฎููุฉ ูููุฑุฌุน..." rows="2"></textarea>
                </div>
              </div>
            </div>
            
            <div class="form-group full-width">
              <button type="submit" class="submit-btn" id="submitLectureBtn">
                <i class="fas fa-check-circle"></i> ุญูุธ ุงููุญุงุถุฑุฉ
              </button>
            </div>
          </div>
        </form>
      </div>

      <div class="admin-card">
        <h2><i class="fas fa-list"></i> ุงููุญุงุถุฑุงุช</h2>
        <div class="table-controls">
          <input type="text" class="search-box" id="lecturesSearchInput" placeholder="ุงุจุญุซ ูู ุงููุญุงุถุฑุงุช...">
          <select class="form-select" id="filterBySubject" style="max-width: 200px;">
            <option value="">ุฌููุน ุงูููุงุฏ</option>
          </select>
        </div>
        <div class="data-table">
          <table>
            <thead>
              <tr>
                <th>ุงูุนููุงู</th>
                <th>ุงููุงุฏุฉ</th>
                <th>ุงูุชุฑุชูุจ</th>
                <th>ุงูููุน</th>
                <th>ุงูุฑุงุจุท</th>
                <th>ุฅุฌุฑุงุก</th>
              </tr>
            </thead>
            <tbody id="lecturesTableBody"></tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- ============================================ -->
    <!-- CODES PANEL -->
    <!-- ============================================ -->
    <div id="codes" class="admin-panel">
      <div class="admin-card">
        <h2><i class="fas fa-list"></i> ุงูุฃููุงุฏ ุงููุดุทุฉ</h2>
        <div class="table-controls">
          <input type="text" class="search-box" id="codesSearchInput" placeholder="ุงุจุญุซ ูู ุงูุฃููุงุฏ...">
          <button class="btn-secondary" onclick="window.refreshCodes()">
            <i class="fas fa-sync-alt"></i> ุชุญุฏูุซ
          </button>
        </div>
        <div class="data-table">
          <table>
            <thead>
              <tr>
                <th>ุงูููุฏ</th>
                <th>ุงูููุน</th>
                <th>ุงููุงุฏุฉ/ุงููุญุงุถุฑุฉ</th>
                <th>ุงูุงุณุชุฎุฏุงู</th>
                <th>ุงูุงูุชูุงุก</th>
                <th>ุงูุญุงูุฉ</th>
                <th>ุฅุฌุฑุงุก</th>
              </tr>
            </thead>
            <tbody id="codesTableBody"></tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- ============================================ -->
    <!-- USERS PANEL -->
    <!-- ============================================ -->
    <div id="users" class="admin-panel">
      <div class="admin-card">
        <h2><i class="fas fa-users"></i> ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู</h2>
        <div class="table-controls">
          <input type="text" class="search-box" id="usersSearchInput" placeholder="ุงุจุญุซ ุนู ูุณุชุฎุฏู...">
          <div class="stats-box">
            <span>ุฅุฌูุงูู ุงููุณุชุฎุฏููู: <strong id="totalUsersCount">0</strong></span>
          </div>
        </div>
        <div class="data-table">
          <table>
            <thead>
              <tr>
                <th>ุงูุงุณู</th>
                <th>ุงูุจุฑูุฏ</th>
                <th>ุงูุฌุงูุนุฉ</th>
                <th>ุงููุญุงุถุฑุงุช</th>
                <th>ุงูุฏูุฑ</th>
                <th>ุฅุฌุฑุงุก</th>
              </tr>
            </thead>
            <tbody id="usersTableBody"></tbody>
          </table>
        </div>
      </div>
    </div>

  </main>

  <div class="toast-container" id="toastContainer"></div>

  <script type="module" src="js/admin.js"></script>
</body>
</html>
